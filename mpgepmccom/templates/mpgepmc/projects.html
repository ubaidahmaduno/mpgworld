{% extends 'mpgepmc/base.html' %}
{% load static %}

{% block title %}Our Initiatives | MPG epmc{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/projects.css' %}">

{% endblock %}

{% block content %}
<div class="p-hero">
    <div class="p-container">
        <h1>Our Initiatives</h1>
        <p>Driving positive change through technology. We harness the power of Artificial Intelligence to build a better, more equitable future in human welfare, education, and development.</p>
        
        <a href="{% url 'mpgepmc_core:support' %}" class="p-hero-cta">Support Our Work</a>
        </div>
</div>

<section class="p-section">
    <div class="p-container">
        <div class="p-filters">
            <button class="p-filter-btn active" data-filter="all">All Projects</button>
            <button class="p-filter-btn" data-filter="AI_EDUCATION">AI Education</button>
            <button class="p-filter-btn" data-filter="AI_AWARENESS">AI Awareness</button>
            <button class="p-filter-btn" data-filter="HUMAN_WELFARE">Human Welfare</button>
            <button class="p-filter-btn" data-filter="DEVELOPMENT">Development</button>
        </div>

        <div class="p-grid">
            {% for project in projects %}
            <div class="p-card" data-category="{{ project.category }}">
                <div class="p-card-img-wrapper">
                    <a href="{% url 'mpgepmc_core:project_detail' project.slug %}">
                        {% if project.image %}
                        <img src="{{ project.image.url }}" alt="{{ project.title }}" class="p-card-img">
                        {% else %}
                        <img src="https://placehold.co/600x400/e2e8f0/4a5568?text=MPG+Project" alt="Placeholder" class="p-card-img">
                        {% endif %}
                    </a>
                    <span class="p-card-category">{{ project.get_category_display }}</span>
                </div>
                <div class="p-card-content">
                    <h3 class="p-card-title"><a href="{% url 'mpgepmc_core:project_detail' project.slug %}">{{ project.title }}</a></h3>
                    <p class="p-card-desc">{{ project.short_description|truncatewords:20 }}</p>
                    <div class="p-card-footer">
                        <span class="p-card-date">{{ project.posted_date|date:"M d, Y" }}</span>
                        <a href="{% url 'mpgepmc_core:project_detail' project.slug %}" class="p-card-link">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <p style="text-align: center; grid-column: 1 / -1; color: var(--p-text);">No projects have been posted yet. Please check back soon!</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/projects.js' %}"></script>
{% endblock %}